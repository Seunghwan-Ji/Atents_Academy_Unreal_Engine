1. ObjectMacros -> 매크로 추가.
- 이름 예시: DefaultTransform
2. DefaultTransform -> 노드 추가 -> Make Transform.
3. Make Transform -> Outputs 연결.
4. BP_Character -> 이벤트 그래프 -> SpawnActor 의 Spawn Transform 핀 당겨서 노드 추가 -> Default Transform.
- 핀분할 없이 그래프 공간 활용용으로 매크로 사용함.
5. Event SelectWeaponA -> Is State 사이에 노드 추가 -> Set By-Ref Var.
6. Event SelectWeaponB -> Is State 사이에 노드 추가 -> Set By-Ref Var.
- Set By-Ref Var 함수를 CPP 로 해석: void SetInteger(int& Target, int Value) { Target = Value; } (레퍼런스형 주소를 받아서 그 주소의 값을 설정해주는 함수.)
- 즉, Set By-Ref Var 노드가 Target 을 참조 형태로 받아서 Value 로 설정해줌.
7. Local Variable -> GET 연결.
8. Local Variable -> 두 Set By-Ref Var 의 각 Target 핀에 연결.
9. Set By-Ref Var (WeaponA) 의 Value 핀 값 설정 -> 0
10. Set By-Ref Var (WeaponB) 의 Value 핀 값 설정 -> 1
11. 콘텐츠 드로어 검색 -> BP_Sword 우클릭 -> 자손 블루프린트 클래스 생성.
- 이름 예시 -> BP_Sword_Child
12. BP_Sword_Child -> 스켈레탈 메시 컴포넌트 -> 디테일 -> 머터리얼 -> 엘리먼트 0 ->에셋 변경 -> 예: M_Metal_Gold
13. BP_Character -> 변수 -> WeaponClasses -> 디테일 -> 기본값 -> 인덱스 추가 -> BP_Sword_Child.
14. Unequip Weapon -> SET Current Weapon 사이에 노드 추가 연결 -> Branch.
15. 노드 추가 -> Get Current Weapon.
16. Get Current Weapon 출력핀 당겨서 연산자 노드 추가 -> "!="
17. 좌항핀 -> Get Current Weapon 연결.
18. 우항핀 -> GET 노드의 출력핀에서 나오는 간선의 경유 노드와 연결.
19. 출력핀 -> 추가한 Branch 노드와 연결.
20. Branch 의 False 핀 당겨서 노드 추가 -> SET Current Weapon.
21. True 핀과 연결된 SET Current Weapon 의 출력핀 -> Is Armed 노드의 입력 실행핀에 연결.
- 무기를 수납하고 선택한 무기가 수납한 무기와 다르면 새로운 무기를 꺼내기 위해 다시 앞 부분부터 수행.
- 이때 Is Armed 노드는 무기를 수납한 시점에서 무장 상태가 해제되었으므로, False를 반환하게 되므로, 이후 무장하는 애니메이션이 진행됨.
22. Get Current Weapon -> Unequip Weapon 의 Weapon 핀과 연결.
- 어떤 무기를 선택하든 수납할 때 선택한 무기가 아닌 현재 들고 있는 무기를 수납함.
23. 노드 추가 -> Select (삼지창 아이콘).
24. Select 의 Index 핀 -> Is Armed 의 Result 핀 연결.
25. Get State Montage Data 의 Target 핀 끊고 Select 의 출력핀과 연결.
26. Select 의 True 핀 당겨서 노드 추가 -> Get Current Weapon.
27. Select 의 False 핀 -> GET 출력핀과 연결.
- Select 노드 해석
- 무장 상태 검사 결과를 가져옴.
- True 면 어떤 무기를 들고 있던간에 현재 들고있는 무기를 수납하는 과정을 진행해야하므로 Get Current Weapon 에서 현재 무기를 가져옴.
- False 면 무장해제 상태이고, 새로운 무기를 꺼내면 되므로 GET 에서 선택한 무기를 가져옴.
- 분기에 따라 다르게 가져온 무기를 Target 으로 전달.